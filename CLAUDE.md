# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Quick Reference

See `AGENTS.md` for comprehensive code style guidelines and patterns.

## Commands

Format Lua files:
```bash
stylua .
stylua --check .  # CI-style check
```

Smoke test (verify config loads):
```bash
nvim --headless "+qa"
```

Sync plugins:
```bash
nvim --headless "+Lazy! sync" +qa
```

## Architecture

This is a LazyVim-based Neovim configuration using lazy.nvim for plugin management.

**Load sequence:** `init.lua` → `lua/config/lazy.lua` → lazy.nvim bootstrap → loads all `lua/plugins/*.lua`

**Key directories:**
- `lua/config/` - Core settings (options.lua, keymaps.lua, autocmds.lua)
- `lua/plugins/` - Plugin specifications (each .lua file auto-loaded by lazy.nvim)

**Language support configured:** Go, Java, Groovy, Python (ruff), C#, Flutter/Dart, MDX

## Plugin Spec Pattern

Each file in `lua/plugins/` returns a table:
```lua
return {
  "author/plugin-name",
  opts = { ... },           -- Preferred over config function
  event = "VeryLazy",       -- Lazy-load trigger
  keys = { ... },           -- Keymap-based lazy-loading
  dependencies = { ... },
}
```

For modifying existing plugin defaults, use opts function:
```lua
opts = function(_, opts)
  -- modify opts
  return opts
end
```

## Files Not to Edit Manually
- `lazy-lock.json` - Generated by lazy.nvim (use `:Lazy sync`)
